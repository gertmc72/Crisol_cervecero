{% extends "base.html" %}

{% block title %}Cervezas - Crisol Cervecero{% endblock %}

{% block content %}
<h1>Cervezas</h1>

<div style="margin-top: 20px; margin-bottom: 20px; padding: 15px; background-color: #ffffff; border: 1px solid #e0e0e0; border-radius: 4px;">
    <form method="get" style="display: flex; flex-wrap: wrap; gap: 10px; align-items: center;">
        <input type="text" name="q" placeholder="Buscar por nombre" value="{{ q }}" style="padding: 8px; border: 1px solid #ccc; border-radius: 4px; flex: 1; min-width: 200px;">
        <select name="style" style="padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
            <option value="">-- Estilo --</option>
            {% for s in styles %}
                <option value="{{ s }}" {% if style == s %}selected{% endif %}>{{ s }}</option>
            {% endfor %}
        </select>
        <select name="brewery" style="padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
            <option value="">-- Cervecer√≠a --</option>
            {% for b in breweries %}
                <option value="{{ b.id }}" {% if brewery == b.id|stringformat:"s" %}selected{% endif %}>{{ b.name }}</option>
            {% endfor %}
        </select>
        <input type="number" step="0.01" min="0" max="5" name="min_rating" placeholder="Rating m√≠n." value="{{ min_rating }}" style="padding: 8px; border: 1px solid #ccc; border-radius: 4px; width: 100px;">
        <button type="submit" class="btn">üîç Filtrar</button>
    </form>
</div>

{% if beers %}
    {% for beer in beers %}
        <div class="card">
            <h3><a href="{% url 'beer_detail' beer.id %}" style="color: #1a1a1a; text-decoration: none;">{{ beer.name }}</a></h3>
            <p>
                <strong>Estilo:</strong> {{ beer.style }} ‚Ä¢ 
                <strong>ABV:</strong> {{ beer.abv|default:"N/A" }}% ‚Ä¢ 
                <strong>Rating:</strong> ‚≠ê {{ beer.avg_rating }}
            </p>
            <p class="card-meta">{{ beer.brewery.name }}</p>
        </div>
    {% endfor %}
{% else %}
    <p>No se encontraron cervezas.</p>
{% endif %}
{% endblock %}


